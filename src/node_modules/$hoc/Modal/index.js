import React, { Component } from 'react';

import { connect } from 'react-redux';
import { closeModal, pushNavPanelItemsState, popNavPanelItemsState } from '$actions/layoutActions'


const mapDispatchToProps = {
  closeModal, pushNavPanelItemsState, popNavPanelItemsState
}

export default (WrappedComponent) => {

  class Modal extends Component {
    _closeModal = () => {
      this.props.onClose && this.props.onClose();
      this.props.closeModal();
    }
    _onOpen = () => {
      this.props.onOpen && this.props.onOpen();
    }
    render() {
      return (
        <WrappedComponent 
          { ...this.props }
          _closeModal={this._closeModal}
          _onOpen={this._onOpen}
        />
      );
    }
  }
  
  return connect(null, mapDispatchToProps)(Modal);
}