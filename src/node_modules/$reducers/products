/* 
Здесь все товары
в phonesPage id's


*/

import {
  FETCH_PRODUCTS_SUCCESS,
  PRODUCTS_IMAGE_LOADED
} from '$actionTypes';

export default (state = {}, {type, payload}) => {
  let prevState = {...state};
  switch (type) {
    case FETCH_PRODUCTS_SUCCESS:
      let newValues = {};
      payload.forEach(item => newValues[item.id] = item);
      prevState = {...prevState, ...newValues};
      break;
    
    case PRODUCTS_IMAGE_LOADED:
      prevState[payload.id].imageLoaded = true;
      break;

    
    default:
      return state
  }

  return prevState;
}