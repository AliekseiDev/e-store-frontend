import React from 'react';

import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { Link } from 'react-router-dom';

import { connect } from 'react-redux';
import style from '../../NavPanel.module.css';
import { closeModals } from '$actions/layoutActions';
import { getTotalBasketCount } from '$selectors';

const Cart = (props) => {
  let { basketCount } = props;
  return (
    <Link onClick={props.closeModals} className={style.panelItem + ' ' + style.basket} to="/basket">
      <FontAwesomeIcon icon="shopping-cart"/>
      <span>{basketCount}</span>
    </Link>
  )
}

const mapStateToProps = state => {
  return { basketCount: getTotalBasketCount(state) }
}
const mapDispatchToProps = {
  closeModals
}

export default connect(mapStateToProps, mapDispatchToProps)(Cart);